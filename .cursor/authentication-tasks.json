[
    {
      "file": "pages/api/auth/magic-link.ts",
      "description": "API route to generate and send Supabase magic link to a given email. It should support redirecting to /pulse after login. Return success or error in JSON."
    },
    {
      "file": "pages/api/admin/send-reminder.ts",
      "description": "Secure admin-only endpoint to send reminder emails. Requires API key in Authorization header. Accepts query parameters: type (initial, on-time, late-1, late-2, late-3), users (all or unsubmitted). Return status message."
    },
    {
      "file": "pages/api/form/access.ts",
      "description": "API to determine if the form is currently open. Compare current server time to configured open/close windows and return JSON: { open: true/false }."
    },
    {
      "file": "pages/api/submissions/status.ts",
      "description": "Return whether the logged-in user has submitted for the current week. Use Supabase auth session and lookup in submissions table."
    },
    {
      "file": "emails/initial.html",
      "description": "Email template for the first form access (Friday 5PM). Include subject, welcome text, deadline info, and a button with a magic link placeholder."
    },
    {
      "file": "emails/reminder-on-time.html",
      "description": "Email template for Monday 2PM reminder. Emphasize urgency, include magic link placeholder and countdown to deadline."
    },
    {
      "file": "emails/reminder-late1.html",
      "description": "Email template for Monday 5PM late reminder. Warning tone, updated deadline (Tuesday 5PM), and magic link button."
    },
    {
      "file": "emails/reminder-late2.html",
      "description": "Email template for Tuesday 9AM late reminder. Highlight hours remaining and urgency."
    },
    {
      "file": "emails/reminder-late3.html",
      "description": "Email template for Tuesday 12PM final reminder. Emphasize final chance before form closes. Magic link CTA."
    },
    {
      "file": "lib/email.ts",
      "description": "Email sending utility using Resend or Nodemailer. Accepts email type and recipient. Loads correct HTML template and injects the magic link."
    },
    {
      "file": "lib/utils/time.ts",
      "description": "Helper functions to determine current week, isFormOpen, and time window checks for schedule logic."
    }
  ]
  